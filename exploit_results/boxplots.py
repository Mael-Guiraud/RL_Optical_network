import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# Charger les donn√©es
df = pd.read_csv('/users/mael/NLO-PFE/exploit_results/stats_glob_s_min_merged.csv')


# Supprimer les lignes contenant inf ou NaN dans les colonnes utilis√©es
colonnes_a_tester = ['min', 'min_sa', 'moyenne', 'moyenne_sa', 'max', 'max_sa']
df_clean = df.replace([np.inf, -np.inf], np.nan).dropna(subset=colonnes_a_tester)

print(f"‚úÖ {len(df_clean)} lignes restantes apr√®s nettoyage (sur {len(df)} total).")

# Donn√©es pour le boxplot
data = [
    df_clean['min'], df_clean['min_sa'],
    df_clean['moyenne'], df_clean['moyenne_sa'],
    df_clean['max'], df_clean['max_sa']
]

labels = [
    'Min RL', 'Min SA',
    'Moy RL', 'Moy SA',
    'Max RL', 'Max SA'
]

# Tracer le boxplot avec moyenne (triangle) et m√©diane
plt.figure(figsize=(10, 6))
plt.boxplot(
    data,
    tick_labels=labels,
    showmeans=True,
    meanline=False,
    meanprops={
        "marker": "D",
        "markerfacecolor": "green",
        "markeredgecolor": "black",
        "markersize": 7
    }
)

plt.title("Comparaison RL vs Simulated Annealing (final_mrd)\nM√©diane et Moyenne visibles (valeurs infinies exclues)")
plt.ylabel("Valeurs")
plt.grid(True)
plt.tight_layout()

# Sauvegarde
plt.savefig('/users/mael/NLO-PFE/boxplot_rl_vs_sa_median_mean_cleaned.png', dpi=300)
print("üì¶ Boxplot nettoy√© sauvegard√© sous boxplot_rl_vs_sa_median_mean_cleaned.png")

plt.show()
